# Network文件夹说明



张向南

2024年5月23日



## 1. STDPModel-EXE协议：

​	本协议用于规定StdpModel.py中，nn.Module子类和STDPExe类这两个上下游类的接口。

### 1.1 对nn.Module子类的要求：

​	该类中应当且仅应当定义模型的前馈过程，而不应进行性能优化（如将张量转移到GPU上）。性能优化相关操作应当在STDPExe类中定义。

​	在基本的nn.Module子类的基础上，至少应定义\_\_getitem\_\_、\_\_len\_\_、foroward三个方法，以及history_rates一个属性。具体规则如下：

​	\_\_getitem\_\_：

​	对任意index，应返回一个长度为2的列表，包含一对突触和传出神经元。每对突触-传出神经元将在STDPExe类中对应一个STDPLearner。

​	\_\_len\_\_：

​	返回突触-传出神经元的总对数。

​	\_\_forward\_\_（self, x, record_rate: bool = False）：

​	若网络需要在每次输入时预先重置（functional.reset_net(self)），则重置步骤应当在此定义。应直接返回可用于分类的输出。不应让STDPExe承担数据形式转化的功能，以保证其通用性。此外，每次前馈都要求向self.Cl方法存储一个列表，其中应包含每个可训练层的Cl值。STDPExe将通过这一方法监视模型收敛过程。

​	rates:

​	一个列表，其中存储元素为各神经元层脉冲发放率（浮点数）。当训练及其它情景下需要获得脉冲发放率时，STDPExe将从该方法中读取上次前馈的脉冲发放率。

### 1.2 对STDPExe的要求

​	STDPExe包含了一个visualize方法，返回一个Cl图和一个前馈图，其中前馈图的定义与nn.Module子类一一对应，在执行时通过isinstance()进行判断。



## 2.2 文件命名

​	文件名中的数字代表文件编辑时间，从左到右依次是“月”“日”“时”“分”，譬如“07031430”代表文字被编辑于7月3日的14点30分。若文件名为四位数字，则分别代表“月”“日”。
